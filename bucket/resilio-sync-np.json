{
    "version": "3.1.2.1076",
    "description": "File sync and sharing software powered by P2P technology for fast and secure transfers.",
    "homepage": "https://www.resilio.com/",
    "license": {
        "identifier": "Shareware",
        "url": "https://www.resilio.com/legal/eula-subscription/"
    },
    "architecture": {
        "64bit": {
            "url": "https://download-cdn.resilio.com/3.1.2.1076/windows/x64/0/Resilio-Sync_x64.exe",
            "hash": "fa96216bf92b90fb5ee600909eaa2ae4df5df7add505585aed90560f2304a176"
        }
    },
    "installer": {
        "script": [
            "if (!(is_admin)) { error \"$app requires admin rights to $cmd\"; break }",
            "$cec = @{1 = 'Run Resilio Sync to set up sync routines'}",
            "Invoke-ExternalCommand \"$dir\\$fname\" -ArgumentList @('/PERFORMINSTALL', '/S') -ContinueExitCodes $cec",
            "Remove-Item \"$([Environment]::GetFolderPath('Desktop'))\\Resilio Sync.lnk\"",
            "Remove-Item \"$dir\\$fname\""
        ]
    },
    "uninstaller": {
        "script": [
            "if (!(is_admin)) { error \"$app requires admin rights to $cmd\"; break }",
            "$cec = @{1 = 'You may need to restart your PC for the app to be completely removed'}",
            "$args = @('/UNINSTALL', '/S')",
            "if ($cmd -ne 'update') { $args += '/REMSETTINGS' }",
            "Invoke-ExternalCommand \"$Env:AppData\\Resilio Sync\\Resilio Sync.exe\" -ArgumentList $args -ContinueExitCodes $cec"
        ]
    },
    "checkver": {
        "url": "https://syncapp.zendesk.com/api/v2/help_center/en-us/articles/31386579044755.json",
        "regex": "(\\d+\\.\\d+\\.\\d+\\.\\d+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://download-cdn.resilio.com/$version/windows/x64/0/Resilio-Sync_x64.exe"
            }
        }
    }
}
