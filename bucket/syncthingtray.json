{
    "version": "2.0.0",
    "description": "Tray application for Syncthing",
    "homepage": "https://github.com/Martchus/syncthingtray",
    "license": {
        "identifier": "GPL-2.0-only,...",
        "url": "https://github.com/Martchus/syncthingtray/blob/master/LICENSES-windows-distribution.md"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/Martchus/syncthingtray/releases/download/v2.0.0/syncthingtray-2.0.0-x86_64-w64-mingw32.exe.zip",
            "hash": "63fb0d76f49b48c48eae41da0e907e67508771e9534cec9890e4d5f66f1c9c84"
        },
        "32bit": {
            "url": "https://github.com/Martchus/syncthingtray/releases/download/v2.0.0/syncthingtray-qt5-2.0.0-i686-w64-mingw32.exe.zip",
            "hash": "6da13a425c4267d9573638cf7822b11f6ac2854ef5d9387914e021c2614144c3"
        },
        "arm64": {
            "url": "https://github.com/Martchus/syncthingtray/releases/download/v2.0.0/syncthingtray-2.0.0-aarch64-w64-mingw32.exe.zip",
            "hash": "ab437fc20500643ae49da0cee8a2a05c675c8de6afae06c54f15d43f591fd9e7"
        }
    },
    "pre_install": [
        "Move-Item \"$dir\\syncthingtray-*-mingw32.exe\" \"$dir\\syncthingtray.exe\"",
        "Move-Item \"$dir\\syncthingtray-*-mingw32-cli.exe\" \"$dir\\syncthingtray-cli.exe\""
    ],
    "##": "syncthingtray.ini will recreate by syncthingtray.exe",
    "post_install": [
        "$config = \"syncthingtray.ini\"",
        "ensure $persist_dir",
        "if (!(Test-Path \"$persist_dir\\$config\")) { New-Item \"$persist_dir\\$config\" -ItemType File | Out-Null }",
        "move-item \"$persist_dir\\$config\" \"$dir\""
    ],
    "pre_uninstall": [
        "ensure $persist_dir",
        "move-item \"$dir\\syncthingtray.ini\" \"$persist_dir\""
    ],
    "bin": "syncthingtray-cli.exe",
    "shortcuts": [
        [
            "syncthingtray.exe",
            "Syncthing Tray"
        ]
    ],
    "checkver": "github",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/Martchus/syncthingtray/releases/download/v$version/syncthingtray-$version-x86_64-w64-mingw32.exe.zip"
            },
            "32bit": {
                "url": "https://github.com/Martchus/syncthingtray/releases/download/v$version/syncthingtray-qt5-$version-i686-w64-mingw32.exe.zip"
            },
            "arm64": {
                "url": "https://github.com/Martchus/syncthingtray/releases/download/v$version/syncthingtray-$version-aarch64-w64-mingw32.exe.zip"
            }
        }
    }
}
