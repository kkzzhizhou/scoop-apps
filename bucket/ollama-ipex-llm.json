{
    "homepage": "https://github.com/ipex-llm/ipex-llm",
    "description": "IPEX-LLM (Intel Extension for PyTorch) nightly build with llama.cpp - Generic Windows version",
    "license": "MIT",
    "version": "2.3.0b20250725",
    "architecture": {
        "64bit": {
            "url": "https://github.com/ipex-llm/ipex-llm/releases/download/v2.3.0-nightly/ollama-ipex-llm-2.3.0b20250725-win.zip",
            "hash": "47fc5a3c3e8d95f97e06df8884535700ecb816c1ea9d85a8ef7d96d77fbc06fe"
        }
    },
    "bin": [
        "ollama.exe",
        "ollama-lib.exe",
        "ollama-serve.bat",
        "start-ollama.bat"
    ],
    "checkver": {
        "script": [
            "$Headers = @{ 'Accept'='application/vnd.github+json'; 'User-Agent'='Scoop'; 'X-GitHub-Api-Version'='2022-11-28' }",
            "if ($env:GITHUB_TOKEN) { $Headers['Authorization'] = 'Bearer ' + $env:GITHUB_TOKEN }",
            "$releases = Invoke-RestMethod -Headers $Headers -Uri 'https://api.github.com/repos/ipex-llm/ipex-llm/releases?per_page=100'",
            "$nightly = $releases | Where-Object { -not $_.draft -and $_.tag_name -match '^v\\d+\\.\\d+\\.\\d+-nightly$' } | Sort-Object -Property {[datetime]$_.published_at} -Descending | Select-Object -First 1",
            "$asset = $nightly.assets | Where-Object { $_.name -match '^ollama-ipex-llm-(?<ver>\\d+\\.\\d+\\.\\d+b\\d+)-win\\.zip$' } | Sort-Object -Property Name -Descending | Select-Object -First 1",
            "if (-not $asset) { throw 'No matching asset found' }",
            "Write-Output $asset.browser_download_url"
        ],
        "regex": "https://github\\.com/ipex-llm/ipex-llm/releases/download/([^/]+)/ollama-ipex-llm-([\\d\\.]+b\\d+)-win\\.zip",
        "replace": "${2}"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/ipex-llm/ipex-llm/releases/download/$match1/ollama-ipex-llm-$match2-win.zip"
            }
        }
    }
}
