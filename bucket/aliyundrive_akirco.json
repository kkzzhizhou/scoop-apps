{
    "version": "4.15.0",
    "description": "The official client for Alibaba's cloud dirve service",
    "homepage": "https://www.aliyundrive.com/",
    "license": {
        "identifier": "EULA",
        "url": "https://www.aliyundrive.com/protocol/service"
    },
    "url": "https://sw.pcmgr.qq.com/11aac7d8deee9f66ce08359998d30a86/668547e2/spcmgr/download/aDrive-4.15.0.exe#/aDrive-4.16.0.7z",
    "hash": "sha512:7744f810f21b626a3ebcbbdb2303b0ac3f9fb3946a2729354b353c8bce1617f3095c6fb2a56162b5769d577c491655431cbfd34e8f0947f017a46f744e79754c",
    "post_install": [
        "@('$PLUGINSDIR', '$TEMP') | ForEach-Object {",
        "    Remove-Item \"$dir\\$_\" -Recurse -Force",
        "}"
    ],
    "installer": {
        "script": [
            "if (!(Test-Path \"$persist_dir\\Cache\")) {",
            "    New-Item \"$persist_dir\\Cache\" -Type Directory -Force | Out-Null",
            "}",
            "$runtimeCache = \"$env:APPDATA\\aDrive\"",
            "$runtimeutForpcCache = \"$env:APPDATA\\utForpc\"",
            "$runtimeCachePersist = \"$persist_dir\\Cache\"",
            "if (Test-Path $runtimeCachePersist) {",
            "    Remove-Item $runtimeCache -Force -Recurse -ErrorAction SilentlyContinue",
            "    Remove-Item $runtimeutForpcCache -Force -Recurse -ErrorAction SilentlyContinue",
            "    New-Item -Type Junction -Path $runtimeCache -Target $runtimeCachePersist | Out-Null",
            "    New-Item -Type Junction -Path $runtimeutForpcCache -Target $runtimeCachePersist | Out-Null",
            "} else {",
            "    if (Test-Path $runtimeCache) {",
            "        Move-Item $runtimeCache $runtimeCachePersist -Force",
            "        New-Item -Type Junction -Path $runtimeCache -Target $runtimeCachePersist | Out-Null",
            "    }",
            "    if (Test-Path $runtimeutForpcCache) {",
            "        Move-Item $runtimeutForpcCache $runtimeCachePersist -Force",
            "        New-Item -Type Junction -Path $runtimeutForpcCache -Target $runtimeCachePersist | Out-Null",
            "    }",
            "}"
        ]
    },
    "uninstaller": {
        "script": [
            "$runtimeCache = \"$env:APPDATA\\aDrive\"",
            "$runtimeutForpcCache = \"$env:APPDATA\\utForpc\"",
            "$runtimeCachePersist = \"$persist_dir\\Cache\"",
            "if (!(Test-Path $runtimeCachePersist)) {",
            "    Move-Item $runtimeCache $runtimeCachePersist -Force",
            "    Move-Item $runtimeutForpcCache $runtimeCachePersist -Force",
            "} else {",
            "    Remove-Item $runtimeCache -Force -Recurse -ErrorAction SilentlyContinue",
            "    Remove-Item $runtimeutForpcCache -Force -Recurse -ErrorAction SilentlyContinue",
            "}"
        ]
    },
    "shortcuts": [
        [
            "aDrive.exe",
            "阿里云盘"
        ]
    ]
}
