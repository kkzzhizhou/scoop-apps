{
    "version": "145.0.7587.4",
    "description": "Fast, secure, and free web browser, built for the modern web.",
    "homepage": "https://www.google.com/chrome/dev",
    "license": {
        "identifier": "Freeware",
        "url": "https://www.google.com/chrome/privacy/eula_text.html"
    },
    "architecture": {
        "64bit": {
            "url": "https://dl.google.com/release2/chrome/adqjqf3i56wgacgvyxllkuzh2wjq_145.0.7587.4/145.0.7587.4_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "04406314f3c52f554c1b9ce7cab3ddb1fcef7d7d42cd101c42b19890a36ee506"
        },
        "32bit": {
            "url": "https://dl.google.com/release2/chrome/adxr3nnopbj32kcltgqkhc7lqyja_145.0.7587.4/145.0.7587.4_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "45dce5779ccb3d2bd2fdd7c9e47a2529b565bcdddf37c72b9598da071d83c980"
        },
        "arm64": {
            "url": "https://dl.google.com/release2/chrome/clat7pz6npm2unae2am7r35i6e_145.0.7587.4/145.0.7587.4_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "c8ded8ff7509c6a7eee99ef168d34bfeefc14c01dff97db44f6389a1eebca57f"
        }
    },
    "extract_dir": "Chrome-bin",
    "bin": [
        [
            "chrome.exe",
            "chrome-dev"
        ]
    ],
    "shortcuts": [
        [
            "chrome.exe",
            "Google Chrome (Dev)"
        ]
    ],
    "checkver": {
        "script": [
            "$AppID = '{8A69D345-D564-463C-AFF1-A69D9E530F96}'",
            "$ArchParams  = @{",
            "    'x64'   ='2.0-dev-arch_x64'",
            "    'x86'   ='2.0-dev-arch_x86'",
            "    'arm64' ='2.0-dev-arch_arm64'",
            "}",
            "$BodyTemplate = @(",
            "    '<?xml version=\"1.0\" encoding=\"UTF-8\"?>',",
            "    '<request protocol=\"3.0\">',",
            "    '  <os platform=\"win\" version=\"10.0.22000.0\" arch=\"{0}\"/>',",
            "    '  <app appid=\"{1}\" ap=\"{2}\" version=\"\">',",
            "    '    <updatecheck/>',",
            "    '  </app>',",
            "    '</request>'",
            ") -join \"`n\"",
            "$ArchURLs = @{}",
            "$Version = $null",
            "forEach ($Arch in $ArchParams.Keys) {",
            "    $Body = $BodyTemplate -f $Arch, $AppID, $ArchParams[$Arch]",
            "    $Response = Invoke-RestMethod -Uri 'https://update.googleapis.com/service/update2' -Method Post -Body $Body",
            "    if ($Arch -eq 'x64') {",
            "        $Version = $Response.response.app.updatecheck.manifest.version",
            "    }",
            "    $BaseURL = $Response.SelectSingleNode(\"//url[starts-with(@codebase, 'https://dl.google.com/release2/chrome/')]\")",
            "    $BaseURL.GetAttribute('codebase') -match '^https://dl\\.google\\.com/release2/chrome/(?<URL>[^/]+)/'",
            "    $FileName = $Response.SelectSingleNode('//package').GetAttribute('name')",
            "    $ArchURLs[$Arch] = \"$($Matches['URL'])/$FileName\"",
            "}",
            "Write-Output \"$Version,$($ArchURLs['x64']),$($ArchURLs['x86']),$($ArchURLs['arm64'])\""
        ],
        "regex": "(?<version>[\\d.]+),(?<archx64>[^,]+),(?<archx86>[^,]+),(?<archarm64>[^,]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://dl.google.com/release2/chrome/$matchArchx64#/dl.7z"
            },
            "32bit": {
                "url": "https://dl.google.com/release2/chrome/$matchArchx86#/dl.7z"
            },
            "arm64": {
                "url": "https://dl.google.com/release2/chrome/$matchArcharm64#/dl.7z"
            }
        }
    }
}
