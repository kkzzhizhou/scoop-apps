{
    "version": "0.2.1",
    "description": "Windows 输入法中英状态指示器",
    "homepage": "https://github.com/HaujetZhao/IME_Indicator",
    "license": "Unknown",
    "url": "https://github.com/HaujetZhao/IME_Indicator/releases/download/v0.2.1/IME-Indicator.exe",
    "hash": "4e827ba2eeb1edd4779c03ab89255bc3abdc89de67d289a70a99a9185e9803b1",
    "installer": {
        "script": [
            "# Generate default config.toml",
            "if (!(Test-Path $persist_dir/config.toml)) {",
            "   $url = 'https://raw.githubusercontent.com/HaujetZhao/IME_Indicator/refs/heads/main/rust_indicator/src/config.rs'",
            "   $content = (Invoke-WebRequest -Uri $url -UseBasicParsing).Content",
            "   if ($content -match '(?s)r##\"(.*?)\"##') {",
            "       $tomlContent = $Matches[1]",
            "       $tomlContent | Out-File -FilePath $dir/config.toml -Encoding UTF8",
            "       Write-Host \"Generate default config.toml: $dir/config.toml\" -ForegroundColor Green",
            "   }",
            "}"
        ]
    },
    "shortcuts": [
        [
            "IME-Indicator.exe",
            "IME-Indicator"
        ]
    ],
    "persist": "config.toml",
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/HaujetZhao/IME_Indicator/releases/download/v$version/IME-Indicator.exe"
    }
}
