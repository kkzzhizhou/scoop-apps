{
    "version": "3.1",
    "description": "DecryptTools-综合解密",
    "homepage": "https://github.com/wafinfo/DecryptTools",
    "license": "Freeware",
    "notes": "https://github.com/ViCrack/scoop-bucket/blob/master/bucket/decrypttools.json",
    "suggest": {
        "JDK": [
            "java/oraclejdk",
            "java/openjdk"
        ]
    },
    "url": "https://github.com/wafinfo/DecryptTools/releases/download/DecryptToolsV3.1/DecryptTools.jar",
    "hash": "796bbb8f10564e4d46bae4b543d32bdbc3c01c29f2df0ccd44cd11aa9471cddc",
    "pre_install": [
        "",
        "$batContent = @\"",
        "@echo off",
        "@setlocal",
        "",
        "set \"jdk_path=\"",
        "",
        "if defined JDK_19_HOME (",
        "set \"jdk_path=%JDK_19_HOME%\\bin\\\"",
        ") else if defined JDK_17_HOME (",
        "set \"jdk_path=%JDK_17_HOME%\\bin\\\"",
        ") else if defined JDK_11_HOME (",
        "set \"jdk_path=%JDK_11_HOME%\\bin\\\"",
        ") else if defined JAVA_HOME (",
        "set \"jdk_path=%JAVA_HOME%\\bin\\\"",
        ")",
        "",
        "if not exist \"%jdk_path%javaw.exe\" (",
        "echo ERROR: Java executable not found in %jdk_path%.",
        "exit /b 1",
        ")",
        "",
        "set \"javafx_args=\"",
        "if defined JAVAFX_HOME (",
        "if exist \"%JAVAFX_HOME%\\lib\" (",
        "set \"javafx_args=--module-path %JAVAFX_HOME%\\lib --add-modules javafx.controls,javafx.fxml\"",
        ") else (",
        "echo WARNING: JAVAFX_HOME is defined but the lib directory is missing.",
        ")",
        ")",
        "",
        "@pushd %~dp0",
        "@start \"\" \"%jdk_path%javaw.exe\" %javafx_args% -jar \"DecryptTools.jar\" %*",
        "@popd",
        "",
        "endlocal",
        "\"@",
        "",
        "$path = \"$dir/decrypttools.bat\"",
        "Set-Content -Path $path -Value $batContent -Encoding Ascii",
        ""
    ],
    "bin": "decrypttools.bat",
    "shortcuts": [
        [
            "decrypttools.bat",
            "Decrypttools"
        ]
    ],
    "checkver": {
        "url": "https://api.github.com/repos/wafinfo/DecryptTools/releases/latest",
        "jsonpath": "$..browser_download_url",
        "regex": "/DecryptToolsV([\\d.]+)"
    },
    "autoupdate": {
        "pre_install": [
            "",
            "$batContent = @\"",
            "@echo off",
            "@setlocal",
            "",
            "set \"jdk_path=\"",
            "",
            "if defined JDK_19_HOME (",
            "set \"jdk_path=%JDK_19_HOME%\\bin\\\"",
            ") else if defined JDK_17_HOME (",
            "set \"jdk_path=%JDK_17_HOME%\\bin\\\"",
            ") else if defined JDK_11_HOME (",
            "set \"jdk_path=%JDK_11_HOME%\\bin\\\"",
            ") else if defined JAVA_HOME (",
            "set \"jdk_path=%JAVA_HOME%\\bin\\\"",
            ")",
            "",
            "if not exist \"%jdk_path%javaw.exe\" (",
            "echo ERROR: Java executable not found in %jdk_path%.",
            "exit /b 1",
            ")",
            "",
            "set \"javafx_args=\"",
            "if defined JAVAFX_HOME (",
            "if exist \"%JAVAFX_HOME%\\lib\" (",
            "set \"javafx_args=--module-path %JAVAFX_HOME%\\lib --add-modules javafx.controls,javafx.fxml\"",
            ") else (",
            "echo WARNING: JAVAFX_HOME is defined but the lib directory is missing.",
            ")",
            ")",
            "",
            "@pushd %~dp0",
            "@start \"\" \"%jdk_path%javaw.exe\" %javafx_args% -jar \"DecryptTools.jar\" %*",
            "@popd",
            "",
            "endlocal",
            "\"@",
            "",
            "$path = \"$dir/decrypttools.bat\"",
            "Set-Content -Path $path -Value $batContent -Encoding Ascii",
            ""
        ],
        "url": "https://github.com/wafinfo/DecryptTools/releases/download/DecryptToolsV$version/DecryptTools.jar"
    }
}
