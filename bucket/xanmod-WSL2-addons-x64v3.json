{
    "homepage": "https://github.com/Locietta/xanmod-kernel-WSL2",
    "description": "The addon VHDX containing modules for Xanmod Kernel for WSL2.",
    "license": "GPL-2.0",
    "post_install": [
        ". $bucketsdir\\$bucket\\scripts\\IniFile.ps1",
        "$vhdx_path=\"$original_dir\\bzImage-x64v3-addons.vhdx\" -replace \"\\\\\", \"\\\\\" # double all back-slashess",
        "$null = [IniFile]::WritePrivateProfileString(\"wsl2\", \"kernelModules\", $vhdx_path, \"$env:USERPROFILE\\.wslconfig\")"
    ],
    "post_uninstall": [
        ". $bucketsdir\\$($install.bucket)\\scripts\\IniFile.ps1",
        "$null = [IniFile]::WritePrivateProfileString(\"wsl2\", \"kernelModules\", $null, \"$env:USERPROFILE\\.wslconfig\")"
    ],
    "version": "6.18.4-1.1",
    "url": "https://github.com/Locietta/xanmod-kernel-WSL2/releases/download/6.18.4-locietta-WSL2-xanmod1.1/bzImage-x64v3-addons.vhdx",
    "hash": "ec841ba9acb57dc94b83dcc3ea999e5d101dd2d6565c7506360af62de0719b0f",
    "checkver": {
        "script": [
            "$LATEST = ((curl.exe -sL -H \"Authorization: Bearer $(Get-GitHubToken)\" https://api.github.com/repos/Locietta/xanmod-kernel-WSL2/tags?per_page=60 | ConvertFrom-Json).name | Select-String 'lts' -NotMatch)[0]",
            "$LATEST"
        ],
        "regex": "(?<main>[\\d.]+)-locietta-WSL2-xanmod(?<xanmod>[\\d.]+)",
        "replace": "${1}-${2}"
    },
    "autoupdate": {
        "url": "https://github.com/Locietta/xanmod-kernel-WSL2/releases/download/$matchMain-locietta-WSL2-xanmod$matchXanmod/bzImage-x64v3-addons.vhdx"
    }
}
