{
    "version": "14.2.1",
    "homepage": "https://store.epicgames.com/",
    "description": "The official launcher for the Epic Games Store.",
    "license": {
        "identifier": "Freeware",
        "url": "https://www.epicgames.com/site/en-US/tos"
    },
    "url": "https://epicgames-download1.akamaized.net/Builds/UnrealEngineLauncher/Installers/Win32/EpicInstaller-14.2.1.msi#/setup.msi_",
    "hash": "a60db9fc0b290f4bea8bc5729b6878d97392156979c1a47498bb27269e16915a",
    "pre_install": [
        "if (!(is_admin)) {error \"$app requires admin rights to $cmd\"; break}",
        "Start-Process 'msiexec' -Wait -Verb 'RunAs' -ArgumentList @('/i', \"$dir\\setup.msi_\", '/qn', \"INSTALLDIR=$dir\", \"TARGETDIR=$dir\")",
        "Stop-Service -Name 'EpicOnlineServices' -Force -ErrorAction 'SilentlyContinue'; Stop-Process -Name 'EpicGamesLauncher' -Force -ErrorAction 'SilentlyContinue'"
    ],
    "pre_uninstall": [
        "if (!(is_admin)) {error \"$app requires admin rights to $cmd\"; break}",
        "Stop-Service -Name 'EpicOnlineServices' -Force -ErrorAction 'SilentlyContinue'; Stop-Process -Name 'EpicGamesLauncher' -Force -ErrorAction 'SilentlyContinue'",
        "Start-Process 'msiexec' -Wait -Verb 'RunAs' -ArgumentList @('/x', \"$dir\\setup.msi_\", '/qn'); Start-Sleep -Seconds 3",
        "Remove-Item \"$env:LOCALAPPDATA\\Epic Online Services\" -Force -Recurse -ErrorAction 'SilentlyContinue'"
    ],
    "checkver": {
        "url": "https://scoop.sh",
        "useragent": "$app/$version",
        "script": [
            "$redirUrl = [System.Net.HttpWebRequest]::Create(",
            "'https://launcher-public-service-prod06.ol.epicgames.com/launcher/api/installer/download/EpicGamesLauncherInstaller.msi'",
            ").GetResponse().ResponseUri.AbsoluteUri;",
            "return $redirUrl"
        ],
        "regex": "EpicInstaller-([\\d.]+).msi"
    },
    "autoupdate": {
        "url": "https://epicgames-download1.akamaized.net/Builds/UnrealEngineLauncher/Installers/Win32/EpicInstaller-$version.msi#/setup.msi_"
    }
}
