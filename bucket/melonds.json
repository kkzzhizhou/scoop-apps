{
    "version": "1.1",
    "description": "A Nintendo DS emulator aiming for fast and accurate emulation",
    "homepage": "http://melonds.kuribo64.net/",
    "license": {
        "identifier": "GPL-3.0",
        "url": "https://github.com/melonDS-emu/melonDS/blob/master/LICENSE"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/melonDS-emu/melonDS/releases/download/1.1/melonDS-1.1-windows-x86_64.zip",
            "hash": "9f3f8a244103be20b5b657af5b0ed1b2a66bb20a7181476a6d294c9a53d4f8c8"
        },
        "arm64": {
            "url": "https://github.com/melonDS-emu/melonDS/releases/download/1.1/melonDS-1.1-windows-aarch64.zip",
            "hash": "9bd4c3efb529540f7577e905439ca6acd372d16b5fbbff31cca8ae3fd60026ce"
        }
    },
    "installer": {
        "script": [
            "if (Test-Path \"$persist_dir\\melonDS.toml\" -PathType Container) {",
            "    Remove-Item \"$persist_dir\\melonDS.toml\" -Recurse -Force",
            "}",
            "$FILES = @('melonDS.ini', 'melonDS.toml')",
            "foreach ($FILE in $FILES) {",
            "    if (!(Test-Path \"$persist_dir\\$FILE\")) {",
            "        New-Item \"$dir\\$FILE\" -Type File | Out-Null",
            "    }",
            "}"
        ]
    },
    "bin": "melonDS.exe",
    "shortcuts": [
        [
            "melonDS.exe",
            "melonDS"
        ]
    ],
    "persist": [
        "melonDS.ini",
        "melonDS.toml"
    ],
    "checkver": {
        "github": "https://github.com/melonDS-emu/melonDS",
        "regex": "/releases/tag/(?:v|V)?([\\w.]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/melonDS-emu/melonDS/releases/download/$version/melonDS-$version-windows-x86_64.zip"
            },
            "arm64": {
                "url": "https://github.com/melonDS-emu/melonDS/releases/download/$version/melonDS-$version-windows-aarch64.zip"
            }
        }
    }
}
